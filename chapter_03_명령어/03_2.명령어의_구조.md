## 연산 코드와 오퍼랜드

명령어는 연산코드와 오퍼랜드로 구성되어 있다.

1. 연산코드
    - 명령어가 수행할 연산
    - 연산자라고도 부른다.
    
    1) 데이터 전송
    
    - MOVE
        - 데이터를 옮겨라
    - STORE
        - 메로리에 저장하라
    - LOAD(FETCH)
        - 메모리에서 CPU로 데이터를 가져와라
    - PUSH
        - 스택에 데이터를 저장하라
    - POP
        - 스택의 최상단 데이터를 가져와라
    
    2) 산술/논리 연산
    
    - ADD / SUBTRACT / MUPTIPLY / DIVIDE
        - 덧셈/ 뺄셈/ 곱셈/ 나눗셈을 수행하라
    - INCREMENT / DECREMENT
        - 오퍼랜드에 1을 더하라 / 오퍼랜드에 1을 빼라
    - AND/ OR / NOT
        - AND/ OR / NOT 연산을 수행하라
    - COMPARE
        - 두 개의 숫자 또는 TRUE / FALSE 값을 비교하라
    
    3) 제어 흐름 변경
    
    - JUMP
        - 특정 주소로 실행 순서를 옮겨라
    - CONDITIONAL JUMP
        - 조건에 부합할 때 특정 주소로 실행 순서를 옮겨라
    - HALT
        - 프로그램의 실행을 멈춰라
    - CALL
        - 되돌아올 주소를 저장한 채 특정 주소로 실행 순서를 옮겨라
    - RETURN
        - CALL을 호출할 때 저장했던 주소로 돌아가라
    
    4) 입출력 제어
    
    - READ (INPUT)
        - 특정 입출력 장치로부터 데이터를 읽어라
    - WRITE (OUTPUT)
        - 특정 입출력 장치로 데이터를 써라
    - START IO
        - 입출력 장치를 시작하라
    - TEST IO
        - 입출력 장치의 상태를 확인하라
2. 오퍼랜드
    - “연산에 사용할 데이터” 혹은 “연산에 사용할 데이터가 저장된 위치”
    - 피연산자라고도 부른다.
    - 오퍼랜드 필드에는 숫자나 문자와 같이 연산에 사용할 데이터를 직접 명시하기보다 많은 경우 연산에 사용할 데이터가 저장된 위치, 즉 메모리 주소나 레지스터 이름이 담긴다. ⇒ **주소필드**라고도 부른다.
        - 오퍼랜드가 하나도 없는 명령어 ⇒ O-주소 명령어
        - 오퍼랜드가 하나인 명령어 ⇒ 1-주소 명령어
        - 오퍼랜드가 두개인 명령어 ⇒ 2-주소 명령어

## 주소 지정 방식

오퍼랜드 필드에 메모리나 레지스터의 주소를 담는 이유 ⇒ 오퍼랜드 필드 안에 메모리 주소가 담긴다면 표현할 수 있는 데이터의 크기는 하나의 메모리 주소에 저장할 수 있는 공간만큼 커진다.

- 주소 지정 방식
    - 오퍼랜드 필드에 데이터가 저장된 위치를 명시 할 때 연산에 사용할 데이터 위치를 찾는 방법
- 유효주소
    - 연산의 대상이 되는 데이터가 저장된 위치

주소 지정 방식의 종류

1. 즉시 주소 지정 방식
    - 연산에 사용할 데이터를 오퍼랜드 필드에 직접 명시하는 방식
    - 단점: 데이터의 크기가 작아지는 단점이 있다
    - 장점: 연산에 사용할 데이터를 메모리나 레지스터로부터 찾는 과정이 없기 때문에 비교적 빠르다
2. 직접 주소 지정 방식
    - 오퍼랜드 필드에 유효 주소를 직접적으로 명시하는 방식
    - 오퍼랜드 필드에서 표현할 수 있는 데이터의 크기는 즉시 주소 지정 방식보다 더 커졌지만, 유효 주소를 표현할 수 있는 범위가 연산 코드의 비트 수만큼 줄어듬
        
        즉, 표현할 수 있는 오퍼랜드 필드의 길이가 연산 코드의 길이만큼 짧아져 표현할 수 있는 유효 주소에 제한이 생길 수 있음
        
3. 간접 주소 지정 방식
    - 유효 주소의 주소를 오퍼랜드 필드에 명시
    - 직접 주소 지정 방식 보다 표현할 수 있는 유효 주소의 범위가 넓음
    - 두 번의 메모리 접근이 필요하기 때문에 비교적 느린 방식
4. 레지스터 주소 지정 방식
    - 직접 주소 지정 방식과 비슷하게 연산에 사용할 데이터를 저장한 레지스터를 오퍼랜드 필드에 직접 명시하는 방법
    - 일반적으로 CPU 외부에 있는 메모리에 접근하는 것보다 CPU 내부에 있는 레지스터에 접근하는 것이 더 빠르다 ⇒ 레지스터 주소 지정 방식은 직접 주소 지정 방식보다 빠르게 데이터에 접근 할 수 있다.
    - 레지스터 주소 지정 방식은 직접 주소 지정 방식과 비슷한 문제를 공유한다 ⇒ 표현할 수 있는 레지스터 크기에 제한이 생길 수 있다.
5. 레지스터 간접 주소 지정 방식
    - 연산에 사용할 데이터를 메모리에 저장하고, 그 주소 (유효 주소)를 저장한 레지스터를 오퍼랜드 필드에 명시하는 방법
    - 유효주소를 찾는 과정이 간접 주소 지정 방식과 비슷하지만 메모리에 접근하는 횟수가 한 번으로 줄어든다는 차이가 있다는 장점이 있다. ⇒ 메모리에 접근하는 것이 레지스터에 접근하는 것보다 더 느리기 때문에 레지스터 간접 주소 지정 방식은 간접 주소 지정 방식보다 빠르다

## 정리

- 주소 지정 방식
    - 연산에 사용할 데이터를 찾는 방법
- 유효 주소
    - 연산에 사용할 데이터가 저장된 위치
- 주소 지정 방식들이 오퍼랜드 필드에 명시하는 값
    - 즉시 주소 지정 방식
        - 연산에 사용할 데이터
    - 직접 주소 지정 방식
        - 유효 주소 (메모리 주소)
    - 간접 주소 지정 방식
        - 유효 주소의 주소
    - 레지스터 주소 지정 방식
        - 유효 주소 (레지스터 이름)
    - 레지스터 간접 주소 지정 방식
        - 유효 주소를 저장한 레지스터